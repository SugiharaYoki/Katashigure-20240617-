

tag @s add AzrSariel_upg_SUCCESS


execute if entity @s[scores={Azr_Shop=8432101}] if entity @s[tag=!AzrSariel_upg2] run tag @s add AzrSariel_upg_FAILED_NC
execute if entity @s[scores={Azr_Shop=8432102}] if entity @s[tag=!AzrSariel_upg3] run tag @s add AzrSariel_upg_FAILED_NC
execute if entity @s[scores={Azr_Shop=8432103}] if entity @s[tag=!AzrSariel_upg4] run tag @s add AzrSariel_upg_FAILED_NC
execute if entity @s[scores={Azr_Shop=8432104}] if entity @s[tag=!AzrSariel_upg5] run tag @s add AzrSariel_upg_FAILED_NC
execute if entity @s[scores={Azr_Shop=8432105}] if entity @s[tag=!AzrSariel_upg6] run tag @s add AzrSariel_upg_FAILED_NC
execute if entity @s[scores={Azr_Shop=8432106}] if entity @s[tag=!AzrSariel_upg7] run tag @s add AzrSariel_upg_FAILED_NC
execute if entity @s[scores={Azr_Shop=8432108}] if entity @s[tag=!AzrSariel_upg7] run tag @s add AzrSariel_upg_FAILED_NC
execute if entity @s[scores={Azr_Shop=8432109}] if entity @s[tag=!AzrSariel_upg8] run tag @s add AzrSariel_upg_FAILED_NC
execute if entity @s[scores={Azr_Shop=8432110}] if entity @s[tag=!AzrSariel_upg9] run tag @s add AzrSariel_upg_FAILED_NC
execute if entity @s[scores={Azr_Shop=8432111}] if entity @s[tag=!AzrSariel_upg10] run tag @s add AzrSariel_upg_FAILED_NC
execute if entity @s[scores={Azr_Shop=8432112}] if entity @s[tag=!AzrSariel_upg11] run tag @s add AzrSariel_upg_FAILED_NC
execute if entity @s[scores={Azr_Shop=8432113}] if entity @s[tag=!AzrSariel_upg12] run tag @s add AzrSariel_upg_FAILED_NC


execute if entity @s[scores={Azr_Shop=8432101}] unless entity @s[scores={Azr_emerald=20..}] run tag @s add AzrSariel_upg_FAILED
execute if entity @s[scores={Azr_Shop=8432102}] unless entity @s[scores={Azr_emerald=20..}] run tag @s add AzrSariel_upg_FAILED
execute if entity @s[scores={Azr_Shop=8432103}] unless entity @s[scores={Azr_emerald=10..}] run tag @s add AzrSariel_upg_FAILED
execute if entity @s[scores={Azr_Shop=8432104}] unless entity @s[scores={Azr_emerald=10..}] run tag @s add AzrSariel_upg_FAILED
execute if entity @s[scores={Azr_Shop=8432105}] unless entity @s[scores={Azr_emerald=5..}] run tag @s add AzrSariel_upg_FAILED
execute if entity @s[scores={Azr_Shop=8432106}] unless entity @s[scores={Azr_emerald=5..}] run tag @s add AzrSariel_upg_FAILED
execute if entity @s[scores={Azr_Shop=8432107}] unless entity @s[scores={Azr_emerald=5..}] run tag @s add AzrSariel_upg_FAILED
execute if entity @s[scores={Azr_Shop=8432108}] unless entity @s[scores={Azr_emerald=5..}] run tag @s add AzrSariel_upg_FAILED
execute if entity @s[scores={Azr_Shop=8432109}] unless entity @s[scores={Azr_emerald=5..}] run tag @s add AzrSariel_upg_FAILED
execute if entity @s[scores={Azr_Shop=8432110}] unless entity @s[scores={Azr_emerald=10..}] run tag @s add AzrSariel_upg_FAILED
execute if entity @s[scores={Azr_Shop=8432111}] unless entity @s[scores={Azr_emerald=10..}] run tag @s add AzrSariel_upg_FAILED
execute if entity @s[scores={Azr_Shop=8432112}] unless entity @s[scores={Azr_emerald=20..}] run tag @s add AzrSariel_upg_FAILED
execute if entity @s[scores={Azr_Shop=8432113}] unless entity @s[scores={Azr_emerald=20..}] run tag @s add AzrSariel_upg_FAILED

execute if entity @s[scores={Azr_Shop=8432114}] if entity @s[tag=!AzrSariel_upg5] run tag @s add AzrSariel_upg_FAILED_NC
execute if entity @s[scores={Azr_Shop=8432115}] if entity @s[tag=!AzrSariel_upg5B] run tag @s add AzrSariel_upg_FAILED_NC
execute if entity @s[scores={Azr_Shop=8432116}] if entity @s[tag=!AzrSariel_upg5C] run tag @s add AzrSariel_upg_FAILED_NC
execute if entity @s[scores={Azr_Shop=8432114}] unless entity @s[scores={Azr_emerald=5..}] run tag @s add AzrSariel_upg_FAILED
execute if entity @s[scores={Azr_Shop=8432115}] unless entity @s[scores={Azr_emerald=20..}] run tag @s add AzrSariel_upg_FAILED
execute if entity @s[scores={Azr_Shop=8432116}] unless entity @s[scores={Azr_emerald=40..}] run tag @s add AzrSariel_upg_FAILED
execute if entity @s[scores={Azr_Shop=8432117}] if entity @s[tag=!AzrSariel_upg9] run tag @s add AzrSariel_upg_FAILED_NC
execute if entity @s[scores={Azr_Shop=8432118}] if entity @s[tag=!AzrSariel_upg9B] run tag @s add AzrSariel_upg_FAILED_NC
execute if entity @s[scores={Azr_Shop=8432119}] if entity @s[tag=!AzrSariel_upg9C] run tag @s add AzrSariel_upg_FAILED_NC
execute if entity @s[scores={Azr_Shop=8432117}] unless entity @s[scores={Azr_emerald=5..}] run tag @s add AzrSariel_upg_FAILED
execute if entity @s[scores={Azr_Shop=8432118}] unless entity @s[scores={Azr_emerald=20..}] run tag @s add AzrSariel_upg_FAILED
execute if entity @s[scores={Azr_Shop=8432119}] unless entity @s[scores={Azr_emerald=40..}] run tag @s add AzrSariel_upg_FAILED

execute if entity @s[scores={Azr_Shop=8432120}] if entity @s[tag=!AzrSariel_upg5C] run tag @s add AzrSariel_upg_FAILED_NC
execute if entity @s[scores={Azr_Shop=8432120}] unless entity @s[scores={Azr_emerald=20..}] run tag @s add AzrSariel_upg_FAILED
execute if entity @s[scores={Azr_Shop=8432121}] if entity @s[tag=!AzrSariel_upg7] run tag @s add AzrSariel_upg_FAILED_NC
execute if entity @s[scores={Azr_Shop=8432121}] unless entity @s[scores={Azr_emerald=30..}] run tag @s add AzrSariel_upg_FAILED
execute if entity @s[scores={Azr_Shop=8432125}] if entity @s[tag=!AzrSariel_upg9C] run tag @s add AzrSariel_upg_FAILED_NC
execute if entity @s[scores={Azr_Shop=8432125}] unless entity @s[scores={Azr_emerald=20..}] run tag @s add AzrSariel_upg_FAILED

execute if entity @s[scores={Azr_Shop=8432122}] run tag @s add AzrSariel_upg3B
execute if entity @s[scores={Azr_Shop=8432123}] run tag @s add AzrSariel_upg3C
execute if entity @s[scores={Azr_Shop=8432124}] run tag @s add AzrSariel_upg3D
execute if entity @s[scores={Azr_Shop=8432122}] run scoreboard players remove @s Azr_emerald 10
execute if entity @s[scores={Azr_Shop=8432123}] run scoreboard players remove @s Azr_emerald 20
execute if entity @s[scores={Azr_Shop=8432124}] run scoreboard players remove @s Azr_emerald 40

tag @s[tag=AzrSariel_upg_FAILED] remove AzrSariel_upg_SUCCESS
tag @s[tag=AzrSariel_upg_FAILED_NC] remove AzrSariel_upg_SUCCESS
tag @s[tag=AzrSariel_upg_FAILED_NC_armor1] remove AzrSariel_upg_SUCCESS
tag @s[tag=AzrSariel_upg_FAILED_NC_armor2] remove AzrSariel_upg_SUCCESS
tag @s[tag=AzrSariel_upg_FAILED_NC_armor3] remove AzrSariel_upg_SUCCESS
tag @s[tag=AzrSariel_upg_FAILED_NC_armor4] remove AzrSariel_upg_SUCCESS

execute if entity @s[tag=AzrSariel_upg_SUCCESS] run function skyblock:azr/system/shop/purchase/sariel/execute_sub


tellraw @s[tag=AzrSariel_upg_FAILED] [{"text":"失败：剩余素材不足！","color":"red"}]
tellraw @s[tag=AzrSariel_upg_FAILED_NC] [{"text":"失败：相邻升级格未解锁！","color":"red"}]
tag @s remove AzrSariel_upg_FAILED
tag @s remove AzrSariel_upg_FAILED_NC
playsound minecraft:ui.button.click master @s ~ ~ ~ 0.3 1.5 0.4
execute if entity @s[scores={Azr_Shop=8432101..8432199}] run function skyblock:azr/system/shop/purchase/sariel/page